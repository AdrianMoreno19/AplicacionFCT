<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actualizar Alumno</title>
</head>
<body>
    <h1>Actualizar Alumno</h1>
    <form id="formulario-actualizar-alumno">
        <label for="id">ID del Alumno:</label>
        <input type="text" id="id" name="id" required><br><br>

        <label for="nombre_completo">Nombre Completo:</label>
        <input type="text" id="nombre_completo" name="nombre_completo" required><br><br>

        <label for="fecha_nacimiento">Fecha de Nacimiento:</label>
        <input type="date" id="fecha_nacimiento" name="fecha_nacimiento"><br><br>

        <label for="genero">Género:</label>
        <input type="text" id="genero" name="genero"><br><br>

        <label for="correo_electronico">Correo Electrónico:</label>
        <input type="email" id="correo_electronico" name="correo_electronico" required><br><br>

        <label for="telefono">Teléfono:</label>
        <input type="text" id="telefono" name="telefono"><br><br>

        <label for="direccion">Dirección:</label>
        <textarea id="direccion" name="direccion"></textarea><br><br>

        <label for="centro_educativo">Centro Educativo:</label>
        <input type="text" id="centro_educativo" name="centro_educativo"><br><br>

        <label for="grado">Grado:</label>
        <input type="text" id="grado" name="grado"><br><br>

        <label for="estado_alumno">Estado del Alumno:</label>
        <input type="text" id="estado_alumno" name="estado_alumno"><br><br>

        <label for="fecha_ingreso">Fecha de Ingreso:</label>
        <input type="date" id="fecha_ingreso" name="fecha_ingreso"><br><br>

        <label for="notas_academicas">Notas Académicas:</label>
        <input type="number" step="0.01" id="notas_academicas" name="notas_academicas"><br><br>

        <label for="observaciones">Observaciones:</label>
        <textarea id="observaciones" name="observaciones"></textarea><br><br>

        <button type="submit">Actualizar</button>
    </form>

    <div id="mensaje"></div>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        // Función que maneja el envío del formulario de actualización
        document.getElementById('formulario-actualizar-alumno').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevenir el envío por defecto del formulario

            // Recogemos los datos del formulario
            const alumno = {
                nombre_completo: document.getElementById('nombre_completo').value,
                fecha_nacimiento: document.getElementById('fecha_nacimiento').value,
                genero: document.getElementById('genero').value,
                correo_electronico: document.getElementById('correo_electronico').value,
                telefono: document.getElementById('telefono').value,
                direccion: document.getElementById('direccion').value,
                centro_educativo: document.getElementById('centro_educativo').value,
                grado: document.getElementById('grado').value,
                estado_alumno: document.getElementById('estado_alumno').value,
                fecha_ingreso: document.getElementById('fecha_ingreso').value,
                notas_academicas: document.getElementById('notas_academicas').value,
                observaciones: document.getElementById('observaciones').value
            };

            const alumnoId = document.getElementById('id').value; // ID del alumno a actualizar

            // Enviamos la solicitud PUT con axios
            axios.put(`/alumnosUpdate/${alumnoId}`, alumno)
                .then(response => {
                    document.getElementById('mensaje').textContent = response.data.message; // Mostrar mensaje de éxito
                })
                .catch(error => {
                    document.getElementById('mensaje').textContent = `Error: ${error.response.data.error}`; // Mostrar error si ocurre
                });
        });
    </script>
</body>
</html>
