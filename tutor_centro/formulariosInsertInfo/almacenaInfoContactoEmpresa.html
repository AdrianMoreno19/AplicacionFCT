<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagina principal aplicacion</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div id="container">
        <!-- Cabecera -->
        <div class="bg-secondary text-white py-3 text-center">
            <img src="../../imagenes/fct.png" alt="Imagen FCT" width="150" height="80" class="me-3">
            <h1>Gestión Empresas para FCT</h1>
        </div>

        <!-- Cuerpo -->
        <div class="d-flex justify-content-center align-items-center bg-danger py-4" style="flex: 1;">
            <div class="bg-secondary text-white p-4 rounded shadow" style="width: 100%; max-width: 600px;">
                <h3 class="mb-4 text-center">Almacena Información Contacto Empresas</h3>
                <form id="formularioContactoEmpresa">
                    <div class="mb-3">
                        <label class="form-label">Nombre Completo:</label>
                        <input type="text" id="nombre" name="nombre" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Cargo:</label>
                        <input type="text" id="cargo" name="cargo" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Departamento:</label>
                        <input type="text" id="departamento" name="departamento" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Correo Electrónico:</label>
                        <input type="email" id="correo" name="correo" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Número de Teléfono:</label>
                        <input type="number" id="numero" name="numero" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Extensión Telefónica:</label>
                        <input type="number" id="extension" name="extension" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Dirección Oficina:</label>
                        <input type="text" id="direccionEmpresa" name="direccionEmpresa" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Horario:</label>
                        <input type="time" id="horario" name="horario" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Nivel de Acceso (Rol):</label>
                        <select id="Rol" name="Rol" class="form-select" required>
                            <option value="">Seleccione</option>
                            <option value="Acceso Total">Acceso Total</option>
                            <option value="Acceso Limitado">Acceso Limitado</option>
                            <option value="Administrador Personal">Administrador Personal</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Relación con la Empresa:</label>
                        <select id="RolEmpresa" name="RolEmpresa" class="form-select" required>
                            <option value="">Seleccione</option>
                            <option value="Empleado">Empleado</option>
                            <option value="Contratista">Contratista</option>
                            <option value="Consultor">Consultor</option>
                            <option value="Directivo">Directivo</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Fecha de Ingreso:</label>
                        <input type="date" id="fechaIngreso" name="fechaIngreso" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Foto de Perfil:</label>
                        <input type="image" id="logo" name="logo" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Observaciones Adicionales:</label>
                        <input type="text" id="observaciones" name="observaciones" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Estado:</label>
                        <select id="estado" name="estado" class="form-select" required>
                            <option value="">Seleccione</option>
                            <option value="Activo">Activo</option>
                            <option value="Inactivo">Inactivo</option>
                            <option value="Licencia">Licencia</option>
                            <option value="Baja">Baja</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Notas Adicionales:</label>
                        <input type="text" id="notas" name="notas" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn-danger w-100">Enviar</button>
                    <div id="mensaje"></div>
                </form>
            </div>
            <script src="../../node_modules/axios/dist/axios.js"></script>
            <script>
                document.getElementById('formularioContactoEmpresa').addEventListener('submit', function (event) {
                    event.preventDefault();
                    const contactoEmpresa = {
                        nombre_completo: document.getElementById('nombre').value,
                        cargo: document.getElementById('cargo').value,
                        departamento: document.getElementById('departamento').value,
                        correo_electronico: document.getElementById('correo').value,
                        telefono: document.getElementById('numero').value,
                        extension_telefonica: document.getElementById('extension').value,
                        direccion_oficina: document.getElementById('direccionEmpresa').value,
                        horario: document.getElementById('horario').value,
                        rol: document.getElementById('Rol').value,
                        rol_empresa: document.getElementById('RolEmpresa').value,
                        fecha_ingreso: document.getElementById('fechaIngreso').value,
                        foto_perfil: document.getElementById('logo').value,
                        observaciones: document.getElementById('observaciones').value,
                        estado: document.getElementById('estado').value,
                        notas_adicionales: document.getElementById('notas').value,
                    };
                    axios.post('/contactoEmpresaInsert', contactoEmpresa)
                        .then(response => {
                            document.getElementById('mensaje').textContent = response.data.message;
                        })
                        .catch(error => {
                            document.getElementById('mensaje').textContent = `Error: ${error.response.data.error}`;
                        });
                });
            </script>
        </div>
        <!-- Pie -->
        <div class="bg-secondary text-white py-3 text-center">
            <h1>Aplicación FCT</h1>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>